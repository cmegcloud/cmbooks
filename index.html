<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMBOOKS – Demo</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
--primary:#2962ff;
--bg:#f4f6f9;
--border:#e0e0e0;
--text:#333;
--muted:#888;
}

*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Roboto,sans-serif;background:var(--bg);color:var(--text)}

.app-wrapper{display:flex;height:100vh;flex-direction:column}

/* HEADER */
.header{
height:60px;
background:#fff;
border-bottom:1px solid var(--border);
display:flex;
align-items:center;
padding:0 20px;
justify-content:space-between;
}

.logo{
font-weight:700;
font-size:18px;
display:flex;
align-items:center;
gap:8px;
color:#0d47a1;
}

.menu-toggle{
display:none;
background:none;
border:none;
font-size:20px;
cursor:pointer;
}

/* MAIN */
.main-content{flex:1;display:flex;overflow:hidden}

/* SIDEBAR */
.sidebar{
width:240px;
background:#fff;
border-right:1px solid var(--border);
padding:15px;
}

.add-btn{
background:var(--primary);
color:#fff;
border:none;
padding:10px;
width:100%;
border-radius:6px;
cursor:pointer;
margin-bottom:20px;
}

.sidebar-title{
font-size:12px;
color:var(--muted);
margin:15px 0 8px;
}

.nav-item{
padding:10px;
cursor:pointer;
border-radius:6px;
margin-bottom:5px;
}

.nav-item:hover,
.nav-item.active{
background:#e3f2fd;
color:var(--primary);
font-weight:500;
}

/* CONTENT */
.content{
flex:1;
padding:20px;
overflow:auto;
}

/* STATS */
.stats{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:15px;
margin-bottom:20px;
}

.card{
background:#fff;
border:1px solid var(--border);
border-radius:10px;
padding:15px;
}

.card-title{
font-size:12px;
color:var(--muted);
margin-bottom:5px;
}

.card-value{
font-size:22px;
font-weight:700;
}

/* TABLE */
table{
width:100%;
border-collapse:collapse;
background:#fff;
border-radius:10px;
overflow:hidden;
}

th,td{
padding:12px;
border-bottom:1px solid var(--border);
text-align:left;
font-size:14px;
}

th{font-size:12px;color:var(--muted);text-transform:uppercase}

/* MODAL */
.modal{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.4);
align-items:center;
justify-content:center;
}

.modal-box{
background:#fff;
padding:20px;
border-radius:10px;
width:320px;
}

.modal-box input{
width:100%;
padding:8px;
margin:8px 0;
border:1px solid var(--border);
border-radius:5px;
}

.modal-box button{
background:var(--primary);
color:#fff;
border:none;
padding:10px;
width:100%;
border-radius:6px;
cursor:pointer;
}

/* MOBILE */
@media(max-width:768px){

.menu-toggle{display:block}

.sidebar{
position:fixed;
left:-240px;
top:60px;
height:100%;
transition:.3s;
z-index:1000;
}

.sidebar.active{left:0}

.main-content{flex-direction:column}

.content{padding:15px}

.stats{grid-template-columns:1fr}

}
</style>
</head>

<body>

<div class="app-wrapper">

<!-- HEADER -->
<div class="header">
<button class="menu-toggle" onclick="toggleSidebar()">
<i class="fas fa-bars"></i>
</button>

<div class="logo">
<i class="fas fa-book"></i> cm <strong>books</strong>
</div>
</div>

<div class="main-content">

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
<button class="add-btn" onclick="closeSidebarMobile(); openSaleModal();">


<div class="sidebar-title">Overview</div>
<div class="nav-item active">Dashboard</div>

<div class="sidebar-title">Transactions</div>
<div class="nav-item">Sales</div>
<div class="nav-item">Expenses</div>
</div>

<!-- CONTENT -->
<div class="content">

<div class="stats">
<div class="card">
<div class="card-title">Total Sales</div>
<div class="card-value" id="totalSales">₹ 0</div>
</div>

<div class="card">
<div class="card-title">Receivables</div>
<div class="card-value" id="receivable">₹ 0</div>
</div>

<div class="card">
<div class="card-title">Net Balance</div>
<div class="card-value" id="netBalance">₹ 0</div>
</div>
</div>

<table>
<thead>
<tr>
<th>Party</th>
<th>Amount</th>
</tr>
</thead>
<tbody id="transactionTable">
<tr>
<td colspan="2" style="text-align:center;color:#888">
No transactions yet
</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>

<!-- MODAL -->
<div class="modal" id="saleModal">
<div class="modal-box">
<h3>Create Sale</h3>
<input type="text" id="party" placeholder="Party Name">
<input type="number" id="amount" placeholder="Amount">
<button onclick="saveSale()">Save</button>
</div>
</div>

<script>
function toggleSidebar(){
document.querySelector('.sidebar').classList.toggle('active');
}

function openModal(){
document.getElementById('saleModal').style.display='flex';
}

function closeModal(){
document.getElementById('saleModal').style.display='none';
}

function getData(){
return JSON.parse(localStorage.getItem('cmbooks')) || [];
}

function saveData(data){
localStorage.setItem('cmbooks',JSON.stringify(data));
}

function saveSale(){
let party=document.getElementById('party').value;
let amount=parseFloat(document.getElementById('amount').value);

if(!party || !amount){
alert("Enter details");
return;
}

let data=getData();
data.push({party,amount});
saveData(data);

closeModal();
document.getElementById('party').value="";
document.getElementById('amount').value="";

updateDashboard();
}

function updateDashboard(){
let data=getData();
let total=0;

data.forEach(d=> total+=d.amount);

document.getElementById('totalSales').innerText="₹ "+total;
document.getElementById('receivable').innerText="₹ "+total;
document.getElementById('netBalance').innerText="₹ "+total;

let table=document.getElementById('transactionTable');
table.innerHTML="";

if(data.length===0){
table.innerHTML='<tr><td colspan="2" style="text-align:center;color:#888">No transactions yet</td></tr>';
return;
}

data.forEach(d=>{
table.innerHTML+=`<tr>
<td>${d.party}</td>
<td>₹ ${d.amount}</td>
</tr>`;
});
}

document.addEventListener("DOMContentLoaded",updateDashboard);
</script>
<script>
function closeSidebarMobile() {
  if (window.innerWidth < 768) {
    document.getElementById('sidebar').classList.remove('active');
  }
}
</script>

</body>
</html>
